# Maintainer: Denys Popov <besisland@besisland.name>
pkgname=rukbi
pkgver=3.3
pkgrel=1
pkgdesc="Alternative Ukrainian and Russian keyboard layouts with miscellaneous useful typographic characters, including Ilya Birmanâ€™s layout"
url="http://besisland.name/rukbi"
arch=("any")
license=("GPLv3")
depends=("xkeyboard-config" "python")
source=("http://rukbi.googlecode.com/files/$pkgname-$pkgver.tar.bz2")
md5sums=("c12bd258b2447022b6ed0e723489580c")
sha1sums=("7fccf0ada614419c242e2e9885ce3bd79af45280")
sha256sums=("f0a26ad226966d7cfec642fdf95954bf264b3e39bb9db88dd080ed82c0fa6cc3")
install=("arch-install")

check() {
    cd "$srcdir"
    test/test
}

package() {
    local xkbdir="$pkgdir/usr/share/X11/xkb"
    cd "$srcdir"

    install -d $xkbdir/symbols $xkbdir/rules
    install -m 0644 symbols/* $xkbdir/symbols/

    install -d $xkbdir/rukbi/install $xkbdir/rukbi/symbols $xkbdir/rukbi/rules
    install -m 0755 install/* $xkbdir/rukbi/install/
    install -m 0644 symbols/* $xkbdir/rukbi/symbols/
    install -m 0644 rules/* $xkbdir/rukbi/rules/
}
