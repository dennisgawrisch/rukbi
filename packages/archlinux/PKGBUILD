# Maintainer: Denys Popov <besisland@besisland.name>
pkgname=rukbi
pkgver=3.1
pkgrel=1
pkgdesc="Alternative Ukrainian and Russian keyboard layouts with miscellaneous useful typographic characters, including Ilya Birmanâ€™s layout"
url="http://besisland.name/rukbi"
arch=("any")
license=("GPLv3")
depends=("xkeyboard-config" "python")
source=("http://rukbi.googlecode.com/files/rukbi-3.1.tar.bz2")
md5sums=("45562c0d2b8097dca0af01d817b54548")
sha1sums=("d664d1f52538ba18c9505e49f9a0715078df9308")
sha256sums=("3fa60bdee7f905b0485f83b91f564e7ab97f49ebf9d6fb978da78b117feeebd7")
install=("arch-install")

check() {
    cd "$srcdir"
    test/test
}

package() {
    local xkbdir="$pkgdir/usr/share/X11/xkb"
    cd "$srcdir"
    install -d $xkbdir/symbols $xkbdir/rules
    install -d $pkgdir/opt/rukbi/install $pkgdir/opt/rukbi/symbols $pkgdir/opt/rukbi/rules
    install -m 0644 symbols/* $xkbdir/symbols/
    install -m 0755 install/* $pkgdir/opt/rukbi/install/
    install -m 0644 symbols/* $pkgdir/opt/rukbi/symbols/
    install -m 0644 rules/* $pkgdir/opt/rukbi/rules/
}
